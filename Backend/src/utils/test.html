<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<title>Endoscopy Training Evaluation Report</title>
	<style>
		@page {
			size: A4;
			margin: 15mm;
		}

		body {
			font-family: 'Segoe UI', serif;
			margin: 0;
			padding: 0;
			color: #000;
		}

		.container {
			padding: 30px;
		}

		.header-table {
			width: 100%;
			border-collapse: collapse;
			margin-bottom: 20px;
		}

		.header-table td {
			vertical-align: middle;
			text-align: center;
			padding: 5px;
		}

		.logo {
			max-height: 90px;
			width: auto;
		}

		.institution {
			font-size: 17px;
			line-height: 1.4;
		}

		#colab {
			font-size: 14px;
			color: #555;
		}

		hr {
			margin: 20px 0;
			border: none;
			border-top: 1px solid #aaa;
		}

		.date {
			text-align: right;
			font-size: 15px;
			margin-bottom: 20px;
		}

		h1.title {
			text-align: center;
			font-size: 24px;
			margin-bottom: 30px;
		}

		.info-table {
			width: 90%;
			margin: 0 auto 20px auto;
			border-collapse: collapse;
			table-layout: fixed;
		}

		.info-table td {
			font-size: 15px;
			padding: 6px 10px;
			vertical-align: top;
			border: 1px solid #ccc;
			word-wrap: break-word;
			word-break: break-word;
			overflow-wrap: break-word;
		}

		.info-table td.label {
			font-weight: bold;
			background-color: #f9f9f9;
			width: 25%;
		}

		.info-table td.value {
			width: 25%;
			font-size: 14px;
		}

		.final-score {
			text-align: center;
			font-size: 20px;
			font-weight: bold;
			margin: 20px 0;
		}

		.score-table {
			width: 90%;
			margin: 0 auto;
			border-collapse: collapse;
		}

		.score-table th,
		.score-table td {
			border: 1px solid #000;
			font-size: 14px;
			padding: 6px;
			text-align: center;
			word-wrap: break-word;
			word-break: break-word;
			overflow-wrap: break-word;
		}

		.score-table th {
			background-color: #f0f0f0;
			font-weight: bold;
		}

		.signature {
			margin-top: 60px;
			text-align: right;
			font-size: 17px;
			padding-right: 40px;
		}
	</style>
</head>
<body>
<div class="container">

	<!-- Header -->
	<table class="header-table">
		<tr>
			<td style="width: 20%;">
				<img src="{{ aiims_logo }}" class="logo" alt="AIIMS Logo" />
			</td>
			<td class="institution" style="width: 60%;">
				<div><strong>Neurosurgery Education and Training School (NETS)</strong></div>
				<div>All India Institute of Medical Sciences, New Delhi</div>
				<div id="colab">In collaboration with</div>
				<div>Indian Institute of Technology, New Delhi</div>
			</td>
			<td style="width: 20%;">
				<img src="{{ iitd_logo }}" class="logo" alt="IIT Delhi Logo" />
			</td>
		</tr>
	</table>

	<hr />

	<p class="date">Date: {{ today_date }}</p>

	<h1 class="title">Endoscopy Training Evaluation Report</h1>

	<!-- Candidate Info (Two Columns) -->
	<table class="info-table">
		<tr>
			<td class="label">Name</td>
			<td class="value">{{ name }}</td>
			<td class="label">Program</td>
			<td class="value">{{ program }}</td>
		</tr>
		<tr>
			<td class="label">Scope</td>
			<td class="value">{{ scope }}</td>
			<td class="label">Plate Angle</td>
			<td class="value">{{ angle }}</td>
		</tr>
		<tr>
			<td class="label">Iteration</td>
			<td class="value">{{ iteration }}</td>
			<td class="label">Email</td>
			<td class="value">{{ email }}</td>
		</tr>
		<tr>
			<td class="label">Designation</td>
			<td class="value">{{ designation }}</td>
			<td class="label">No. of Actions Claimed</td>
			<td class="value">{{ actions }}</td>
		</tr>
	</table>

	<!-- Final Score -->
	<p class="final-score">Final Score (Mean): {{ final_score }} / 10</p>

	<!-- Segment-wise Ratings -->
	<table class="score-table">
		<thead>
			<tr>
				<th>Segment</th>
				<th>Score</th>
			</tr>
		</thead>
		<tbody>
			{% for segment in segment_scores %}
			<tr>
				<td>Segment {{ loop.index }}</td>
				<td>{{ segment.score }}</td>
			</tr>
			{% endfor %}
		</tbody>
	</table>

	<div class="signature">
		<strong>Competent Authority</strong>
	</div>
</div>
</body>
</html>
